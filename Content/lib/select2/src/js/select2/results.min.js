/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/select2@4.1.0-rc.0/src/js/select2/results.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
define(["jquery","./utils"],(function(e,t){function s(e,t,l){this.$element=e,this.data=l,this.options=t,s.__super__.constructor.call(this)}return t.Extend(s,t.Observable),s.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},s.prototype.clear=function(){this.$results.empty()},s.prototype.displayMessage=function(t){var s=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var l=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);l.append(s(r(t.args))),l[0].className+=" select2-results__message",this.$results.append(l)},s.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},s.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var s=0;s<e.results.length;s++){var l=e.results[s],r=this.option(l);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},s.prototype.position=function(e,t){t.find(".select2-results").append(e)},s.prototype.sort=function(e){return this.options.get("sorter")(e)},s.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option--selectable"),t=e.filter(".select2-results__option--selected");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},s.prototype.setClasses=function(){var s=this;this.data.current((function(l){var r=l.map((function(e){return e.id.toString()}));s.$results.find(".select2-results__option--selectable").each((function(){var s=e(this),l=t.GetData(this,"data"),i=""+l.id;null!=l.element&&l.element.selected||null==l.element&&r.indexOf(i)>-1?(this.classList.add("select2-results__option--selected"),s.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),s.attr("aria-selected","false"))}))}))},s.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},s=this.option(t);s.className+=" loading-results",this.$results.prepend(s)},s.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},s.prototype.option=function(s){var l=document.createElement("li");l.classList.add("select2-results__option"),l.classList.add("select2-results__option--selectable");var r={role:"option"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var o in(null!=s.element&&i.call(s.element,":disabled")||null==s.element&&s.disabled)&&(r["aria-disabled"]="true",l.classList.remove("select2-results__option--selectable"),l.classList.add("select2-results__option--disabled")),null==s.id&&l.classList.remove("select2-results__option--selectable"),null!=s._resultId&&(l.id=s._resultId),s.title&&(l.title=s.title),s.children&&(r.role="group",r["aria-label"]=s.text,l.classList.remove("select2-results__option--selectable"),l.classList.add("select2-results__option--group")),r){var n=r[o];l.setAttribute(o,n)}if(s.children){var a=e(l),u=document.createElement("strong");u.className="select2-results__group",this.template(s,u);for(var p=[],c=0;c<s.children.length;c++){var h=s.children[c],d=this.option(h);p.push(d)}var g=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});g.append(p),a.append(u),a.append(g)}else this.template(s,l);return t.StoreData(l,"data",s),l},s.prototype.bind=function(s,l){var r=this,i=s.id+"-results";this.$results.attr("id",i),s.on("results:all",(function(e){r.clear(),r.append(e.data),s.isOpen()&&(r.setClasses(),r.highlightFirstItem())})),s.on("results:append",(function(e){r.append(e.data),s.isOpen()&&r.setClasses()})),s.on("query",(function(e){r.hideMessages(),r.showLoading(e)})),s.on("select",(function(){s.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),s.on("unselect",(function(){s.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),s.on("open",(function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()})),s.on("close",(function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")})),s.on("results:toggle",(function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),s.on("results:select",(function(){var e=r.getHighlightedResults();if(0!==e.length){var s=t.GetData(e[0],"data");e.hasClass("select2-results__option--selected")?r.trigger("close",{}):r.trigger("select",{data:s})}})),s.on("results:previous",(function(){var e=r.getHighlightedResults(),t=r.$results.find(".select2-results__option--selectable"),s=t.index(e);if(!(s<=0)){var l=s-1;0===e.length&&(l=0);var i=t.eq(l);i.trigger("mouseenter");var o=r.$results.offset().top,n=i.offset().top,a=r.$results.scrollTop()+(n-o);0===l?r.$results.scrollTop(0):n-o<0&&r.$results.scrollTop(a)}})),s.on("results:next",(function(){var e=r.getHighlightedResults(),t=r.$results.find(".select2-results__option--selectable"),s=t.index(e)+1;if(!(s>=t.length)){var l=t.eq(s);l.trigger("mouseenter");var i=r.$results.offset().top+r.$results.outerHeight(!1),o=l.offset().top+l.outerHeight(!1),n=r.$results.scrollTop()+o-i;0===s?r.$results.scrollTop(0):o>i&&r.$results.scrollTop(n)}})),s.on("results:focus",(function(e){e.element[0].classList.add("select2-results__option--highlighted"),e.element[0].setAttribute("aria-selected","true")})),s.on("results:message",(function(e){r.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=r.$results.scrollTop(),s=r.$results.get(0).scrollHeight-t+e.deltaY,l=e.deltaY>0&&t-e.deltaY<=0,i=e.deltaY<0&&s<=r.$results.height();l?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option--selectable",(function(s){var l=e(this),i=t.GetData(this,"data");l.hasClass("select2-results__option--selected")?r.options.get("multiple")?r.trigger("unselect",{originalEvent:s,data:i}):r.trigger("close",{}):r.trigger("select",{originalEvent:s,data:i})})),this.$results.on("mouseenter",".select2-results__option--selectable",(function(s){var l=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),r.trigger("results:focus",{data:l,element:e(this)})}))},s.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},s.prototype.destroy=function(){this.$results.remove()},s.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find(".select2-results__option--selectable").index(e),s=this.$results.offset().top,l=e.offset().top,r=this.$results.scrollTop()+(l-s),i=l-s;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(r)}},s.prototype.template=function(t,s){var l=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=l(t,s);null==i?s.style.display="none":"string"==typeof i?s.innerHTML=r(i):e(s).append(i)},s}));
//# sourceMappingURL=/sm/dde7892b1ff05a5619450a9608d43dca94c870e5e7a1645e0d65f6815f41f6c7.map